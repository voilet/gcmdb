(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{axzX:function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("MVZn"));r("miYZ");var s=a(r("tsqr")),u=a(r("o0o1")),o=r("7DNP"),c=r("Qyje"),i=r("dCQc"),l=r("34ay"),d=r("+n12"),p=r("HZnN"),f={namespace:"login",state:{status:void 0},effects:{login:u.default.mark(function e(t,r){var a,n,s,c,l,f,h,w;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(i.fakeAccountLogin,a);case 4:return c=e.sent,console.log("response.....",c),e.next=8,s({type:"changeLoginStatus",payload:c});case 8:if(console.log("response",c),"200"!==c.status){e.next=25;break}if((0,p.reloadAuthorized)(),l=new URL(window.location.href),f=(0,d.getPageQuery)(),h=f.redirect,!h){e.next=23;break}if(w=new URL(h),w.origin!==l.origin){e.next=21;break}h=h.substr(l.origin.length),h.startsWith("/#")&&(h=h.substr(2)),e.next=23;break;case 21:return window.location.href=h,e.abrupt("return");case 23:return e.next=25,s(o.routerRedux.replace(h||"/"));case 25:case"end":return e.stop()}},e,this)}),resetPassword:u.default.mark(function e(t,r){var a,n,c,l,d;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,c=r.put,e.next=4,n(i.resetPassword,a);case 4:if(l=e.sent,!l||200!=l.status){e.next=11;break}return d="/",e.next=9,c(o.routerRedux.replace(d||"/"));case 9:e.next=12;break;case 11:s.default.error("\u63a5\u53e3\u5f02\u5e38");case 12:case"end":return e.stop()}},e,this)}),getCaptcha:u.default.mark(function e(t,r){var a,n;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,e.next=4,n(i.getFakeCaptcha,a);case 4:case"end":return e.stop()}},e,this)}),logout:u.default.mark(function e(t,r){var a;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=r.put,e.next=3,a({type:"changeLoginStatus",payload:{status:!1,currentAuthority:"guest"}});case 3:return(0,p.reloadAuthorized)(),e.next=6,a(o.routerRedux.push({pathname:"/user/login",search:(0,c.stringify)({redirect:window.location.href})}));case 6:case"end":return e.stop()}},e,this)})},reducers:{changeLoginStatus(e,t){var r=t.payload;return(0,l.setAuthority)(r.currentAuthority),(0,n.default)({},e,{status:r.status,type:r.type})}}};t.default=f}}]);