(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{qsG3:function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("MVZn")),o=r(a("ZDp4")),c=r(a("o0o1"));a("/xke");var s=r(a("TeRw")),l=a("Wppp"),u=(e,t)=>{s.default[e]({message:"Message: ",description:t})},d={namespace:"gproline",state:{treedata:{data:[]},prolinedata:{data:[],pagination:{}},progroupdata:{data:[],pagination:{}},progroupbylid:[],probygid:[],proconfigbypid:[],projectdata:{data:[],pagination:{}},block_versions:{},block_tasks:{},block_hosts:{},block_all_hosts:{}},effects:{SearchProjectList:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.searchProject,r);case 4:return s=e.sent,e.next=7,o({type:"projectSearch",payload:s.data});case 7:case"end":return e.stop()}},e,this)}),getProjectList:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.queryProject,r);case 4:return s=e.sent,e.next=7,o({type:"projectSave",payload:s});case 7:case"end":return e.stop()}},e,this)}),getProjectGroupbyId:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,console.log("payload",r),e.next=5,n(l.querGroupbyLId,r);case 5:return s=e.sent,e.next=8,o({type:"progroupbyLidSave",payload:s.data||[]});case 8:case"end":return e.stop()}},e,this)}),getProjectbyId:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.querProjectbyGId,r);case 4:return s=e.sent,e.next=7,o({type:"progroupbyGidSave",payload:s.data||[]});case 7:case"end":return e.stop()}},e,this)}),getConfigListById:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.querProjectConfigById,r.ID);case 4:return s=e.sent,e.next=7,o({type:"progroupbyPidSave",payload:s.data||[],callback:r.callback||function(){}});case 7:case"end":return e.stop()}},e,this)}),clearConfigList:c.default.mark(function e(t,a){var r;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return(0,o.default)(t),r=a.put,e.next=4,r({type:"progroupbyPidClear"});case 4:case"end":return e.stop()}},e,this)}),getVersionsById:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.querProjectVersions,r.ID);case 4:return s=e.sent,e.next=7,o({type:"proConfigVersion",payload:s.data||[],id:r.ID,callback:r.callback||function(){}});case 7:case"end":return e.stop()}},e,this)}),addProjectTask:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.addProjectTask,r);case 4:if(s=e.sent,200==s.status){e.next=9;break}u("error",s.msg),e.next=12;break;case 9:return e.next=11,o({type:"addBlockTasks",payload:s.data,ProId:r.ProId});case 11:r.callback&&r.callback(s);case 12:case"end":return e.stop()}},e,this)}),modifyProjectTask:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,console.log("modifyProjectTask",r),e.next=5,n(l.modifyProjectTask,r);case 5:if(s=e.sent,200==s.status){e.next=10;break}u("error",s.msg),e.next=13;break;case 10:return e.next=12,o({type:"modifyBlockTasks",payload:s.data,ID:r.ID,ProId:r.ProId});case 12:r.callback&&r.callback(s);case 13:case"end":return e.stop()}},e,this)}),deleteProjectTask:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.deleteProjectTask,r);case 4:if(s=e.sent,200==s.status){e.next=9;break}u("error",s.msg),e.next=12;break;case 9:return e.next=11,o({type:"deleteBlockTasks",payload:r,ID:r.ID,ProId:r.ProId});case 11:r.callback&&r.callback(s);case 12:case"end":return e.stop()}},e,this)}),deleteVersionById:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.deleteProjectConfigVersion,r);case 4:return e.sent,e.next=7,o({type:"getVersionsById",payload:{ID:r.ProId}});case 7:case"end":return e.stop()}},e,this)}),getTasksById:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.querProjectTasks,r);case 4:if(s=e.sent,s&&200==s.status){e.next=9;break}u("error",s?s.msg:"\u67e5\u8be2\u4efb\u52a1\u63a5\u53e3\u5f02\u5e38"),e.next=11;break;case 9:return e.next=11,o({type:"saveBlockTasks",payload:s.data||[],id:r.ID,callback:r.callback});case 11:case"end":return e.stop()}},e,this)}),getHostsById:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.querProjectHosts,r);case 4:if(s=e.sent,s&&200==s.status){e.next=9;break}u("error",s?s.msg:"\u67e5\u8be2\u4e3b\u673a\u63a5\u53e3\u5f02\u5e38"),e.next=11;break;case 9:return e.next=11,o({type:"saveBlockHosts",payload:s.data||[],id:r.ID,callback:r.callback});case 11:case"end":return e.stop()}},e,this)}),getAllHostsByProId:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.querProjectAllHosts,r);case 4:if(s=e.sent,s&&200==s.status){e.next=9;break}u("error",s?s.msg:"\u67e5\u8be2\u4e3b\u673a\u63a5\u53e3\u5f02\u5e38"),e.next=11;break;case 9:return e.next=11,o({type:"saveBlockAllHosts",payload:s.data||{},id:r.ProId,callback:r.callback});case 11:case"end":return e.stop()}},e,this)}),updateAllHostsByProId:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.editProjectHosts,r);case 4:return e.sent,e.next=7,o({type:"saveBlockAllHosts",payload:r.data||{},id:r.ProId,callback:r.callback});case 7:case"end":return e.stop()}},e,this)}),addProject:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.addProject,r);case 4:if(s=e.sent,200==s.status){e.next=9;break}u("error",s.msg),e.next=11;break;case 9:return e.next=11,o({type:"getConfigListById",payload:r});case 11:case"end":return e.stop()}},e,this)}),deleteProject:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.deleteProject,r);case 4:return s=e.sent,200!=s.status&&u("error",s.msg),e.next=8,o({type:"reloadProject"});case 8:case"end":return e.stop()}},e,this)}),reloadProject:c.default.mark(function e(t,a){var r;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.put,a.select,e.next=3,r({type:"getProjectList",payload:{}});case 3:case"end":return e.stop()}},e,this)}),modifyProject:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.modifyProject,r);case 4:return e.next=6,o({type:"reloadProject"});case 6:case"end":return e.stop()}},e,this)}),hostproModify:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.hostproModify,r.description,r.id);case 4:return e.next=6,o({type:"reloadProject"});case 6:case"end":return e.stop()}},e,this)}),hostproDelete:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.hostproDelete,r.description,r.id);case 4:return e.next=6,o({type:"reloadProject"});case 6:case"end":return e.stop()}},e,this)}),getProjectGroup:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,o=a.call,e.next=4,o(l.querProjectGroup,r);case 4:return s=e.sent,e.next=7,n({type:"proGroupSave",payload:s||[]});case 7:case"end":return e.stop()}},e,this)}),addProjectgroup:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,o=a.call,e.next=4,o(l.addProjectGroup,r.description);case 4:return s=e.sent,"200"==s.status&&u("success",s.msg),e.next=8,n({type:"reloadProjectGroup"});case 8:case"end":return e.stop()}},e,this)}),modifyProjectgroup:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.modifyProjectGroup,r);case 4:return e.next=6,o({type:"reloadProjectGroup"});case 6:case"end":return e.stop()}},e,this)}),deleteProjectgroup:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.deleteProjectGroup,r);case 4:return s=e.sent,200!=s.status&&u("error",s.msg),e.next=8,o({type:"reloadProjectGroup"});case 8:case"end":return e.stop()}},e,this)}),reloadProjectGroup:c.default.mark(function e(t,a){var r;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.put,a.select,e.next=3,r({type:"getProjectGroup",payload:{}});case 3:case"end":return e.stop()}},e,this)}),addProjectLine:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,o=a.call,e.next=4,o(l.addProjectLine,r.description);case 4:return e.next=6,n({type:"reloadProjectLine"});case 6:case"end":return e.stop()}},e,this)}),getProjectLine:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r(l.querProjectLine);case 4:return o=e.sent,e.next=7,n({type:"proLineSave",payload:o});case 7:case"end":return e.stop()}},e,this)}),modifyProjectLine:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.modifyProjectLine,r);case 4:return e.next=6,o({type:"reloadProjectLine"});case 6:case"end":return e.stop()}},e,this)}),deleteProjectLine:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.deleteProjectLine,r);case 4:return s=e.sent,s&&"500"==s.status&&message.error(s.msg),e.next=8,o({type:"reloadProjectLine"});case 8:case"end":return e.stop()}},e,this)}),reloadProjectLine:c.default.mark(function e(t,a){var r;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.put,a.select,e.next=3,r({type:"getProjectLine",payload:{}});case 3:case"end":return e.stop()}},e,this)}),addConfigVersion:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.addProjectConfigVersion,r);case 4:if(s=e.sent,!s||"200"!=s.status){e.next=10;break}return e.next=8,o({type:"saveProConfigVersion",payload:s.data||[],callback:r.callback||function(){}});case 8:e.next=11;break;case 10:message.error(s.msg);case 11:case"end":return e.stop()}},e,this)}),getTree:c.default.mark(function e(t,a){var r,n,o,s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.queryTree,r);case 4:if(s=e.sent,200!=s.status){e.next=8;break}return e.next=8,o({type:"saveTree",payload:s});case 8:case"end":return e.stop()}},e,this)}),updateTree:c.default.mark(function e(t,a){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,o=a.put,e.next=4,n(l.updateprojectTree,r);case 4:return e.next=6,o({type:"getTree"});case 6:case"end":return e.stop()}},e,this)}),queryProjectState:c.default.mark(function e(t,a){return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.payload,a.call,a.put;case 2:case"end":return e.stop()}},e,this)})},reducers:{projectSearch(e,t){var a=(0,n.default)({},e);return t.payload.ProjectLines?a.prolinedata=(0,n.default)({},a.prolinedata,{data:t.payload.ProjectLines,pagination:t.payload.ProjectLinePagination}):t.payload.ProjectGroups?a.progroupdata=(0,n.default)({},a.progroupdata,{data:t.payload.ProjectGroups,pagination:t.payload.ProjectGroupPagination}):t.payload.ProjectLists?a.projectdata=(0,n.default)({},a.projectdata,{data:t.payload.ProjectLists,pagination:t.payload.ProjectPagination}):a=(0,n.default)({},a,{prolinedata:{data:[],pagination:{}},progroupdata:{data:[],pagination:{}},projectdata:{data:[],pagination:{}}}),a},projectSave(e,t){return(0,n.default)({},e,{projectdata:t.payload})},proLineSave(e,t){return null===t.payload.data&&(t.payload.data=[]),(0,n.default)({},e,{prolinedata:t.payload})},proGroupSave(e,t){return(0,n.default)({},e,{progroupdata:t.payload})},progroupbyLidSave(e,t){return(0,n.default)({},e,{progroupbylid:t.payload})},progroupbyGidSave(e,t){return(0,n.default)({},e,{probygid:t.payload})},progroupbyPidClear(e,t){return(0,n.default)({},e,{proconfigbypid:[]})},progroupbyPidSave(e,t){return t.callback&&t.callback(t.payload),(0,n.default)({},e,{proconfigbypid:t.payload})},proConfigVersion(e,t){t.callback&&t.callback(t.payload);var a=(0,n.default)({},e.block_versions);return a[t.id]=t.payload||[],(0,n.default)({},e,{block_versions:a})},saveProConfigVersion(e,t){t.callback&&t.callback(t.payload);var a=(0,n.default)({},e.block_versions);return a[t.id]=t.payload||[],(0,n.default)({},e,{block_versions:a})},saveBlockTasks(e,t){t.callback&&t.callback(t.payload);var a=(0,n.default)({},e.block_tasks);return console.log("saveBlockTasks",t),a[t.id]=t.payload||[],(0,n.default)({},e,{block_tasks:a})},modifyBlockTasks(e,t){var a=t.payload,r=t.ProId,o=t.ID,c=e.block_tasks||{};if(!r)return e;for(var s=c[r]||[],l=0;l<s.length;l++)s[l].ID==o&&(s[l]=a);return(0,n.default)({},e,{block_tasks:c})},addBlockTasks(e,t){var a=t.payload,r=t.ProId,o=e.block_tasks||{};if(!r)return e;var c=o[r]||[];return c.push(a),(0,n.default)({},e,{block_tasks:o})},deleteBlockTasks(e,t){t.payload;var a=t.ProId,r=t.ID,o=e.block_tasks||{};if(!a)return e;var c=o[a]||[];return c=c.filter(e=>{return e.ID!=r}),(0,n.default)({},e,{block_tasks:o})},saveBlockHosts(e,t){t.callback&&t.callback(t.payload);var a=(0,n.default)({},e.block_hosts);return a[t.id]=t.payload||[],(0,n.default)({},e,{block_hosts:a})},saveBlockAllHosts(e,t){t.callback&&t.callback(t.payload);var a=(0,n.default)({},e.block_all_hosts);return a[t.id]=t.payload||[],(0,n.default)({},e,{block_all_hosts:a})},saveTree(e,t){return(0,n.default)({},e,{treedata:t.payload})}}};t.default=d}}]);